define(["jquery"],function(a){var b=[],c=null;return{initialise:function(c){var d=a('<div class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">'+M.str.block_selfenrollment.more_title+'</h4></div><div class="modal-body"></div></div></div></div>');a(".block_selfenrollment_table .icon-more").on("click",function(){var c=a(this),e=c.attr("offerid");b[e]?(d.find(".modal-body").html(b[e]),d.modal()):a.get("more.php",{offerid:e},function(c){var f=a(a("#block_selfenrollment_offer_template_more").html());a.each(c,function(a,b){f.find("#block_selfenrollment_offer_"+a).html(b)}),b[e]=f,a("document").append(d),d.find(".modal-body").html(f),d.modal()},"json")})},terms:function(b){var d=a('<div class="modal fade" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">'+M.str.block_selfenrollment.terms_title+'</h4></div><div class="modal-body"></div></div></div></div>');a(".block_selfenrollment_terms a").on("click",function(b){b.preventDefault();var e=a(this);c?(d.find(".modal-body").html(c),d.modal()):a.get(e.attr("href"),function(b){c=b,a("document").append(d),d.find(".modal-body").html(b),d.modal()})})}}});